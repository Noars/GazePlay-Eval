<div class="d-flex justify-content-center align-items-center bg-light-subtle p-5">
  <div class="card shadow-lg w-100" style="max-width: 1200px;">
    <div class="card-header text-center">
      <h2>Cr√©ation √âvaluation</h2>
    </div>
    <div class="card-body">
      <div class="container mt-4">
        <div class="row">
          <div class="col-md-4">
            <div class="card shadow-lg">
              <div class="card-header bg-secondary text-white">
                üìã Liste des √©crans
              </div>
              <div cdkDropList (cdkDropListDropped)="drop($event)">
                @for (screen of screens; let i = $index; track i) {
                  <div cdkDrag>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item d-flex justify-content-between align-items-center"
                          [class.active]="screen === selectedScreen"
                          (click)="selectScreen(screen)"
                          (dblclick)="changeNameScreen(true, screen)"
                          (mouseleave)="changeNameScreen(false, screen)"
                          style="cursor: pointer;">
                          <span cdkDragHandle>
                            &#x2630;
                          </span>
                          @if (isEditNameScreen && screen === selectedScreen){
                            <input type="text"
                                   [(ngModel)]="screen.name"
                                   (keydown.enter)="changeNameScreen(false, screen)"
                                   (blur)="changeNameScreen(false, screen)"
                                   class="form-control form-control-sm"
                                   style="max-width: 150px;" />
                          } @else {
                            <span>{{ screen.name }}</span>
                          }
                          <button class="btn btn-sm btn-danger" (click)="removeScreen(screen)">
                            <i class="bi bi-trash"></i>
                          </button>
                      </li>
                    </ul>
                  </div>
                }
              </div>
              <div class="text-center">
                <button class="btn btn-success px-4 mt-1 mb-1" (click)="addScreen()">
                  <i class="bi bi-plus-circle me-1"></i> Ajouter un √©cran
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card shadow-lg">
              <div class="card-header bg-secondary text-white">
                ‚úèÔ∏è √âdition de l‚Äô√©cran
              </div>
              @if (selectedScreen != null){
                <div class="card-body">
                  <div class="mb-3">
                    <label for="typeSelect" class="form-label">Type d‚Äô√©cran :</label>
                    <select id="typeSelect" class="form-select">
                      <option value="black">√âcran noir</option>
                      <option value="consigne">√âcran de consigne</option>
                      <option value="stimuli">√âcran de stimuli</option>
                      <option value="fin">√âcran de fin</option>
                    </select>
                  </div>
                </div>
              } @else {
                <div class="card-body text-muted">
                  Aucun √©cran s√©lectionn√©.
                </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-primary" (click)="backToSetupEval()">
          ‚Üê Pr√©c√©dent
        </button>
        <button class="btn btn-primary" (click)="goToDownloadEval()">
          Suivant ‚Üí
        </button>
      </div>
    </div>
  </div>
</div>
